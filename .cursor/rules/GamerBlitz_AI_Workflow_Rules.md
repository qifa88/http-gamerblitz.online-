# GamerBlitz Cursor 工作规则 v2.1

## 一、基础操作规范

### 1. 命令执行
- 使用 PowerShell 语法
- 命令直接可复制执行，无需 `PS>` 前缀
- 每个命令执行后需确认结果

### 2. 任务分解
- 将复杂任务分解为小步骤
- 每个步骤清晰编号（步骤一、步骤二...）
- 每步操作后等待确认

## 二、代码管理

### 1. 代码修改规范
- 使用 `+` / `-` 标记代码变更
- 明确标注修改位置和行号
- 提供修改前后对比
- 保持原有代码结构不变

### 2. 代码保护原则
- 禁止修改现有代码
- 禁止删除已有功能
- 禁止调整现有结构
- 只允许添加新代码

## 三、版本控制

### 1. Git 操作流程
```powershell
# 新建分支
git checkout -b <分支名>

# 提交更改
git add .
git commit -m "变更说明"
git push origin <分支名>

# 撤销操作
git reset --hard HEAD~1
```

### 2. 分支管理
- 新功能开发使用新分支
- 提交前检查分支状态
- 保持提交信息清晰

## 四、任务管理

### 1. 上下文控制
- 监控对话长度
- 达到 8K tokens 时提醒新开对话
- 保持上下文清晰

### 2. 任务确认机制
- 执行前确认任务意图
- 每阶段完成后等待确认
- 提供阶段完成总结

## 五、代码质量保证

### 1. 最小影响原则
- 新代码独立封装
- 避免影响现有功能
- 保持代码可移除性

### 2. 视觉保护
- 不修改现有样式
- 不调整页面结构
- 保持视觉一致性

## 六、沟通规范

### 1. 任务确认
- 执行前确认理解
- 提供预期结果说明
- 等待明确确认

### 2. 进度报告
- 定期总结当前进度
- 清晰说明下一步计划
- 及时反馈问题

## 七、错误处理

### 1. 预防措施
- 执行前检查环境
- 验证代码兼容性
- 准备回滚方案

### 2. 问题解决
- 提供具体错误信息
- 给出解决建议
- 确保系统稳定

## 八、文档管理

### 1. 代码注释
- 添加必要注释
- 说明代码用途
- 标注关键逻辑

### 2. 变更记录
- 记录重要修改
- 说明修改原因
- 标注影响范围

## 九、性能优化

### 1. 代码优化
- 保持代码简洁
- 避免重复代码
- 优化执行效率

### 2. 资源管理
- 合理使用资源
- 避免资源浪费
- 保持系统稳定

## 十、安全规范

### 1. 代码安全
- 避免安全隐患
- 保护敏感信息
- 遵循安全最佳实践

### 2. 数据保护
- 保护用户数据
- 安全存储信息
- 遵守隐私政策

## 黄金原则

> **只在提供的源代码基础上添加必要代码。禁止修改、删除、调整任何已有内容。所有代码变更必须标明插入位置与上下文，保持功能、视觉和逻辑完全不变。** 